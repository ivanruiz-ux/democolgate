//@ui5-bundle project1/Component-preload.js
sap.ui.predefine("project1/Component", ["sap/ui/core/UIComponent","project1/model/models"],(e,t)=>{"use strict";return e.extend("project1.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("project1/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.App",{onInit(){}})});
sap.ui.predefine("project1/controller/View1.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],(t,e)=>{"use strict";return t.extend("project1.controller.View1",{onInit(){const t={MaterialNumber:"61034399",MaterialDescription:"SUAVITEL CMPL 46F CS SP MORNING SUN",PackingInfo:"75 CS = 1 PAL",Catalogs:{ProductionLines:[{key:"HCLinea_A",text:"HC Línea A"},{key:"HCLinea_B",text:"HC Línea B"},{key:"HCLinea_C",text:"HC Línea C"}],Printers:[{key:"PRN_A1",text:"Printer A1"},{key:"PRN_A2",text:"Printer A2"},{key:"PRN_B1",text:"Printer B1"}],BatchList:[{key:"5316MX111A",text:"5316MX111A"},{key:"5316MX222A",text:"5316MX222A"},{key:"5316MX333A",text:"5316MX333A"}]},Filters:{ProductionLine:"HCLinea_A",LinePrinter:"HCLinea_A",PrinterEnabled:true,OrderNumber:"108785909",BatchList:"5316MX111A"},HUCount:26,TotalCases:1950,HUs:[{HU:"175095467401692471",HuCreatedMill:true,HuCreatedSap:true,GrInSap:false,Batch:"5316MX111A",Shift:"2",MaterialNumber:"61034399",Amount:75,CreatedOn:"Nov 12 2025 04:29:38 PM"},{HU:"175095467401692488",HuCreatedMill:true,HuCreatedSap:true,GrInSap:true,Batch:"5316MX111A",Shift:"2",MaterialNumber:"61034399",Amount:75,CreatedOn:"Nov 12 2025 04:45:25 PM"},{HU:"175095467401692495",HuCreatedMill:true,HuCreatedSap:true,GrInSap:false,Batch:"5316MX111A",Shift:"2",MaterialNumber:"61034399",Amount:75,CreatedOn:"Nov 12 2025 04:16:06 PM"}],BackupPrinter:"PRN_A1",PartialPallet:false,QtyPerPallet:75,Comment:""};const r=new e(t);this.getView().setModel(r);this.onGetHu();this.loadPrinters();this.loadWorkCenters()},onGetHu:async function(){const t=this.getView();const e=t.getModel();var r=this.getView().byId("_IDGenInput1");var o=r.getValue();if(!o){console.log("Falta valor de orden");return}const n=`<ROOT>\n                <select>\n                    <ORDEN>${this._escapeXml(o)}</ORDEN>\n                </select>\n                </ROOT>`;try{const t=await fetch("/api/selecthu",{method:"POST",headers:{"Content-Type":"application/xml; charset=utf-8",Accept:"application/xml"},body:n});if(!t.ok){const e=await t.text();console.error("Error body:",e);throw new Error(`HTTP ${t.status}: ${e}`)}console.log("res: ",t);const r=await t.text();const o=this._parseSelectHuResponse(r);e.setProperty("/HUs",o);e.setProperty("/HUCount",o.length);const a=o.reduce((t,e)=>t+(parseInt(e.Amount,10)||0),0);e.setProperty("/TotalCases",a)}catch(t){console.error("loadGetHu error:",t)}},_escapeXml:function(t){return String(t).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&apos;")},_parseSelectHuResponse:function(t){const e=(new DOMParser).parseFromString(t,"application/xml");const r=e.getElementsByTagName("parsererror")[0];if(r){throw new Error("Respuesta XML inválida")}const o=Array.from(e.getElementsByTagName("row"));return o.map(t=>({HU:this._getText(t,"HU"),HuCreatedMill:this._getText(t,"HUMII"),HuCreatedSap:this._getText(t,"HUSAP"),GrInSap:this._getText(t,"GRSAP"),Batch:this._getText(t,"BATCH"),Shift:this._getText(t,"SHITF"),MaterialNumber:this._getText(t,"MATERIAL"),Amount:this._getText(t,"AMOUNT"),CreatedOn:this._getText(t,"DATE"),OrderNumber:this._getText(t,"ORDEN"),ProductionLine:this._getText(t,"PUESTO_TRABAJO")}))},_getText:function(t,e){const r=t.getElementsByTagName(e)[0];return r?(r.textContent||"").trim():""},statusColorFormatter:function(t){if(t===""||t===null||t===undefined)return"#e9730c";const e=t==="1"||t===1||t===true;return e?"#107e3e":"#bb0000"},loadPrinters:async function(){try{const t=await fetch("/api/selectprinter",{method:"POST",headers:{"Content-Type":"application/xml",Accept:"application/xml"},body:"<ROOT/>"});if(!t.ok)throw new Error(await t.text());const e=await t.text();console.log("xmlText",e)}catch(t){console.error("loadPrinters error:",t)}},loadWorksCenter:async function(){try{const t=await fetch("/api/selectpuesto_trabajo",{method:"POST",headers:{"Content-Type":"application/xml",Accept:"application/xml"},body:"<ROOT/>"});if(!t.ok)throw new Error(await t.text());const e=await t.text();console.log("xmlText",e)}catch(t){console.error("loadPrinters error:",t)}},loadPrinters:async function(){try{const t=await fetch("/api/selectprinter",{method:"POST",headers:{"Content-Type":"application/xml",Accept:"application/xml"},body:"<ROOT/>"});if(!t.ok)throw new Error(await t.text());const e=await t.text();console.log("xmlText",e);const r=new DOMParser;const o=r.parseFromString(e,"text/xml");console.log("xmlres",o);const n=Array.from(o.getElementsByTagName("row"));const a=n.map(t=>({key:t.getElementsByTagName("PRINTER")[0]?.textContent?.trim()||"",text:t.getElementsByTagName("DESCRIPCION")[0]?.textContent?.trim()||""}));console.log("aRows:",a);const s=this.getView().getModel();s.setProperty("/Catalogs/Printers",a)}catch(t){console.error("loadPrinters error:",t)}},loadWorkCenters:async function(){try{const t=await fetch("/api/selectpuesto_trabajo",{method:"POST",headers:{"Content-Type":"application/xml",Accept:"application/xml"},body:"<ROOT/>"});if(!t.ok)throw new Error(await t.text());const e=await t.text();const r=new DOMParser;const o=r.parseFromString(e,"text/xml");console.log("xmlres",o);const n=Array.from(o.getElementsByTagName("row"));const a=n.map(t=>({key:t.getElementsByTagName("PUESTO_TRABAJO")[0]?.textContent?.trim()||"",text:t.getElementsByTagName("DESC")[0]?.textContent?.trim()||""}));console.log("aRows:",a);const s=this.getView().getModel();s.setProperty("/Catalogs/ProductionLines",a)}catch(t){console.error("loadWorkCenters error:",t)}},onRefresh:function(){this.onGetHu()},statusStateFormatter:function(t){return t?"Success":"Error"}})});
sap.ui.predefine("project1/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"project1/i18n/i18n.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=App Title',
	"project1/manifest.json":'{"_version":"1.81.0","sap.app":{"id":"project1","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.20.2","toolsId":"71ce12cc-70c0-44d8-b236-553929657003"}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.144.1","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"project1.i18n.i18n","supportedLocales":[""]}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"project1.view","async":true,"viewPath":"project1.view"},"routes":[{"name":"RouteView1","pattern":":?query:","target":["TargetView1"]}],"targets":{"TargetView1":{"id":"View1","name":"View1"}}},"rootView":{"viewName":"project1.view.App","type":"XML","id":"App","async":true},"flexBundle":false}}',
	"project1/view/App.view.xml":'<mvc:View controllerName="project1.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"project1/view/View1.view.xml":'<mvc:View controllerName="project1.controller.View1"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"\n    displayBlock="true"><Page id="page" title="{i18n>title}"><content><VBox id="_IDGenVBox1" width="100%" renderType="Bare"><VBox id="_IDGenVBox2" class="sapUiSmallMargin"><Title id="_IDGenTitle" level="H1" text="{/MaterialNumber}" /><Text id="_IDGenText" text="{/MaterialDescription}" /><Text id="_IDGenText1" text="{/PackingInfo}" /></VBox><Panel id="_IDGenPanel1" headerText="Selection"><f:SimpleForm id="_IDGenSimpleForm"\n                            editable="true"\n                            layout="ResponsiveGridLayout"\n                            labelSpanL="3" labelSpanM="3"\n                            adjustLabelSpan="false"\n                            emptySpanL="1" emptySpanM="1"\n                            columnsL="2" columnsM="2"><Label id="_IDGenLabel1" text="Production Line" /><Select id="_IDGenSelect" selectedKey="{/Filters/ProductionLine}"\n                                                items="{\n                                path: \'/Catalogs/ProductionLines\'\n                            }"><core:Item id="_IDGenItem" key="{key}" text="{text}" /></Select><Label id="_IDGenLabel2" text="Line Printer" /><HBox id="_IDGenHBox"><Input id="_IDGenInput" width="100%" value="{/Filters/LinePrinter}" /><CheckBox id="_IDGenCheckBox" text="Enabled" selected="{/Filters/PrinterEnabled}" /></HBox><Label id="_IDGenLabel3" text="Order Number" /><Input id="_IDGenInput1" value="{/Filters/OrderNumber}" /><Label id="_IDGenLabel4" text="BatchList" /><Select id="_IDGenSelect1" selectedKey="{/Filters/BatchList}" items="{\n                                        path: \'/Catalogs/BatchList\'\n                                    }"><core:Item id="_IDGenItem1" key="{key}" text="{text}" /></Select><Label id="_IDGenLabel5" text="" /><Button id="_IDGenButton" text="Refresh" press="onRefresh" /></f:SimpleForm></Panel><Panel id="_IDGenPanel2" headerText="Handling Units"><Table\n                            id="huTable"\n                            items="{\n                                path: \'/HUs\'\n                            }"><headerToolbar><Toolbar id="_IDGenToolbar"><Title id="_IDGenTitle1" text="Handling Units" level="H2"/><ToolbarSpacer id="_IDGenToolbarSpacer"/><Text id="_IDGenText2" text="Count: {/HUCount}  Total: {/TotalCases}" /></Toolbar></headerToolbar><columns><Column id="_IDGenColumn"><Text id="_IDGenText3" text="HU" /></Column><Column id="_IDGenColumn1"><Text id="_IDGenText4" text="HU Created in Mill" /></Column><Column id="_IDGenColumn2"><Text id="_IDGenText5" text="HU Created in SAP" /></Column><Column id="_IDGenColumn3"><Text id="_IDGenText6" text="GR in SAP" /></Column><Column id="_IDGenColumn4"><Text id="_IDGenText7" text="Batch" /></Column><Column id="_IDGenColumn5"><Text id="_IDGenText8" text="Shift" /></Column><Column id="_IDGenColumn6"><Text id="_IDGenText9" text="Material Number" /></Column><Column id="_IDGenColumn7"><Text id="_IDGenText10" text="Amount" /></Column><Column id="_IDGenColumn8"><Text id="_IDGenText11" text="Created Date and Time" /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem"><ObjectIdentifier id="_IDGenObjectIdentifier" title="{HU}" /><core:Icon id="_IDGenIcon4"\n                                    src="sap-icon://circle-task-2"\n                                    size="0.9rem"\n                                    color="{path: \'HuCreatedMill\', formatter: \'.statusColorFormatter\'}" /><core:Icon id="_IDGenIcon5"\n                                    src="sap-icon://circle-task-2"\n                                    size="0.9rem"\n                                    color="{path: \'HuCreatedSap\', formatter: \'.statusColorFormatter\'}" /><core:Icon id="_IDGenIcon6"\n                                    src="sap-icon://circle-task-2"\n                                    size="0.9rem"\n                                    color="{path: \'GrInSap\', formatter: \'.statusColorFormatter\'}" /><Text id="_IDGenText12" text="{Batch}" /><Text id="_IDGenText13" text="{Shift}" /><Text id="_IDGenText14" text="{MaterialNumber}" /><Text id="_IDGenText15" text="{Amount}" /><Text id="_IDGenText16" text="{CreatedOn}" /></ColumnListItem></items></Table></Panel><Panel id="_IDGenPanel3"><VBox id="_IDGenVBox" class="sapUiSmallMarginTop"><HBox id="_IDGenHBox4" alignItems="Center" wrap="Wrap"><Text id="_IDGenText17" text="Legend:" class="sapUiTinyMarginEnd"/><HBox id="_IDGenHBox5" alignItems="Center" class="sapUiTinyMarginBegin"><core:Icon id="_IDGenIcon" src="sap-icon://circle-task-2" color="#107e3e" size="0.9rem"\n                                    class="sapUiTinyMarginEnd"/><Text id="_IDGenText18" text="HU Created in SAP" /></HBox><HBox id="_IDGenHBox6" alignItems="Center" class="sapUiTinyMarginBegin"><core:Icon id="_IDGenIcon1" src="sap-icon://circle-task-2" color="#e9730c" size="0.9rem"\n                                    class="sapUiTinyMarginEnd"/><Text id="_IDGenText19" text="HU Processing in SAP" /></HBox><HBox id="_IDGenHBox7" alignItems="Center" class="sapUiTinyMarginBegin"><core:Icon id="_IDGenIcon2" src="sap-icon://circle-task-2" color="#bb0000" size="0.9rem"\n                                    class="sapUiTinyMarginEnd"/><Text id="_IDGenText20" text="HU Not created in SAP" /></HBox></HBox><HBox id="_IDGenHBox2" class="sapUiSmallMarginTop" alignItems="Center"><Label id="_IDGenLabel" text="Backup Printer" labelFor="backupPrinter"/><Select id="backupPrinter"\n                                        selectedKey="{/BackupPrinter}"\n                                        width="200px" items="{\n                                        path: \'/Catalogs/Printers\'\n                                    }"><core:Item id="_IDGenItem2" key="{key}" text="{text}" /></Select><Button id="_IDGenButton1" text="Reprint HU" press=".onReprint" /><Button id="_IDGenButton2" text="Generate HUs" press=".onGenerate" /><CheckBox id="_IDGenCheckBox1" text="Partial Pallet" selected="{/PartialPallet}" /><Label id="_IDGenLabel6" text="Quantity per pallet" /><Input id="_IDGenInput2" width="60px" value="{/QtyPerPallet}" /><Button id="_IDGenButton3" text="Resend HU to SAP" press=".onResend" /></HBox><HBox id="_IDGenHBox3" class="sapUiSmallMarginTop" alignItems="Center"><Label id="_IDGenLabel7" text="Comment" /><TextArea id="_IDGenTextArea"\n                                    width="400px"\n                                    rows="2"\n                                    value="{/Comment}" /><Button id="_IDGenButton4" text="Add Comment" press=".onAddComment" /></HBox></VBox></Panel></VBox></content></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
